module.exports=[61867,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944);function f(){let a=(0,e.useRouter)(),[f,g]=(0,c.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",isBuilder:!1,companyName:""}),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),l=a=>{let b="checkbox"===a.target.type?a.target.checked:a.target.value;g({...f,[a.target.name]:b})},m=async b=>{if(b.preventDefault(),k(!0),i(""),f.password!==f.confirmPassword){i("Passwords do not match."),k(!1);return}try{let b=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email,password:f.password,name:f.name,phone:f.phone,customerType:f.isBuilder?"builder":"residential",companyName:f.isBuilder?f.companyName:void 0})});if(b.ok)(await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.email,password:f.password})})).ok?a.push("/portal"):a.push("/login?success=registered");else{let a=await b.json();i(a.errors?.[0]?.message||"Registration failed.")}}catch(a){i("Something went wrong. Please try again.")}finally{k(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-sandstone font-work-sans flex flex-col",children:(0,b.jsx)("main",{className:"flex-grow flex items-center justify-center px-6 py-24",children:(0,b.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[(0,b.jsxs)("div",{className:"bg-burnished-gold p-8 text-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-midnight-slate mb-2",children:"Join the Hub"}),(0,b.jsx)("p",{className:"text-midnight-slate/80 text-sm font-medium",children:"Create an account for instant 24/7 dispatch."})]}),(0,b.jsxs)("div",{className:"p-8",children:[h&&(0,b.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 text-sm font-medium border border-red-100",children:h}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Full Name"}),(0,b.jsx)("input",{type:"text",name:"name",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] focus:border-transparent outline-none transition-all",placeholder:"John Doe",onChange:l})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Email Address"}),(0,b.jsx)("input",{type:"email",name:"email",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] focus:border-transparent outline-none transition-all",placeholder:"name@company.com",onChange:l})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",name:"isBuilder",checked:f.isBuilder,onChange:l,className:"w-5 h-5 text-burnished-gold rounded focus:ring-burnished-gold border-gray-300"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-midnight-slate text-sm",children:"I represent a Builder / Company"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Manage multiple job sites and access commercial pricing."})]})]}),f.isBuilder&&(0,b.jsxs)("div",{className:"mt-4 animate-in fade-in slide-in-from-top-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Company Name"}),(0,b.jsx)("input",{type:"text",name:"companyName",className:"w-full bg-white border border-gray-200 rounded-lg p-3 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] outline-none",placeholder:"Acme Construction LLC",onChange:l})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Password"}),(0,b.jsx)("input",{type:"tel",name:"phone",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] focus:border-transparent outline-none transition-all",placeholder:"(555) 000-0000",onChange:l})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",name:"password",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] focus:border-transparent outline-none transition-all",placeholder:"Create a password",onChange:l})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Confirm Password"}),(0,b.jsx)("input",{type:"password",name:"confirmPassword",required:!0,className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 font-medium text-[#2c3e50] focus:ring-2 focus:ring-[#f1c40f] focus:border-transparent outline-none transition-all",placeholder:"Confirm password",onChange:l})]})]}),(0,b.jsx)("button",{type:"submit",disabled:j,className:"w-full bg-midnight-slate hover:bg-midnight-slate text-white font-bold py-4 rounded-xl transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 mt-4 disabled:opacity-70 disabled:cursor-not-allowed flex justify-center items-center",children:j?(0,b.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"CREATE ACCOUNT"})]}),(0,b.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-400",children:["Already have an account?"," ",(0,b.jsx)(d.default,{href:"/login",className:"text-burnished-gold font-bold hover:underline",children:"Sign in"})]})]})]})})})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_%28site%29_%28public%29_signup_page_tsx_f73c446c._.js.map