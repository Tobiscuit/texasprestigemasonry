(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return c.findSourceMapURL}};for(var a in r)Object.defineProperty(t,a,{enumerable:!0,get:r[a]});let i=e.r(32120),c=e.r(92245),l=e.r(35326)},81749,e=>{"use strict";var s=e.i(95187);let t=(0,s.createServerReference)("6032b860903825481da43defea088962c6afe39f19",s.callServer,void 0,s.findSourceMapURL,"assignJobToTechnician");e.s(["assignJobToTechnician",()=>t])},64621,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(95187);let a=(0,r.createServerReference)("001b520b0d5cca4eec8571963fcff33303ef2eebcb",r.callServer,void 0,r.findSourceMapURL,"getUnassignedJobs"),i=(0,r.createServerReference)("0097da30134ccc3c30eba9ef71dd79ef879dbde751",r.callServer,void 0,r.findSourceMapURL,"getAllTechnicians");var c=e.i(81749);function l(){let[e,r]=(0,t.useState)([]),[l,n]=(0,t.useState)([]),[d,o]=(0,t.useState)(""),[x,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{m()},[]);let m=async()=>{let[e,s]=await Promise.all([a(),i()]);r(e),n(s)},b=async e=>{if(!d)return alert("Select a technician first!");g(!0),(await (0,c.assignJobToTechnician)(e,d)).success?(alert("Job Dispatched & Tech Notified!"),m()):alert("Failed to assign job"),g(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8 font-sans",children:[(0,s.jsxs)("header",{className:"mb-10 flex justify-between items-center border-b border-gray-800 pb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-black uppercase tracking-widest text-white",children:"Mission Control"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Dispatch Command Center"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-burnished-gold",children:e.length}),(0,s.jsx)("div",{className:"text-xs uppercase text-gray-500 font-bold",children:"Pending"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:l.filter(e=>e.isOnline).length}),(0,s.jsx)("div",{className:"text-xs uppercase text-gray-500 font-bold",children:"Online Techs"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,s.jsx)("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Incoming Tickets"}),0===e.length&&(0,s.jsx)("div",{className:"p-12 text-center border border-dashed border-gray-800 rounded-2xl text-gray-600",children:"No pending jobs. Good work."}),e.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 hover:border-burnished-gold/50 transition-colors group",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase tracking-wide 
                                        ${"emergency"===e.urgency?"bg-red-500/20 text-red-400 animate-pulse":"bg-amber-500/20 text-amber-400"}`,children:e.urgency}),(0,s.jsxs)("span",{className:"font-mono text-gray-500 text-sm",children:["#",e.ticketId]})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500 font-mono",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Customer"}),(0,s.jsx)("div",{className:"font-bold text-lg",children:e.customerName}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.customerAddress})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase block mb-1",children:"Issue"}),(0,s.jsxs)("p",{className:"text-gray-300 text-sm italic",children:['"',e.issue,'"']})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-700",children:[(0,s.jsxs)("select",{className:"flex-1 bg-gray-900 border border-gray-600 text-white rounded-lg px-4 py-3 focus:outline-none focus:border-burnished-gold transition-colors",onChange:e=>o(e.target.value),defaultValue:"",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select Technician..."}),l.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," ",e.isOnline?"(Online)":"(Offline)"]},e.id))]}),(0,s.jsx)("button",{onClick:()=>b(e.id),disabled:x,className:"bg-burnished-gold text-midnight-slate px-8 py-3 rounded-lg font-black uppercase tracking-wide hover:bg-yellow-400 transition-colors disabled:opacity-50",children:x?"Dispatching...":"Dispatch"})]})]},e.id))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Field Units"}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700",children:(0,s.jsxs)("div",{className:"space-y-4",children:[l.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-900/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${e.isOnline?"bg-green-400 shadow-[0_0_10px_rgba(74,222,128,0.5)]":"bg-gray-600"}`}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-sm",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]})]}),(0,s.jsx)("div",{className:"text-xs font-bold text-gray-600 uppercase",children:e.isOnline?"Active":"Idle"})]},e.id)),0===l.length&&(0,s.jsx)("div",{className:"text-center text-gray-500 text-sm py-4",children:"No technicians found"})]})})]})]})]})}e.s(["default",()=>l],64621)}]);