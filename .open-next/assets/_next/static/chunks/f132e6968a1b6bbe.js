(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70558,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function a({show:e,onClose:s,onInstall:a,platform:l}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6 bg-midnight-slate/80 backdrop-blur-sm animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"relative w-full max-w-md bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden p-8 text-center",children:[(0,t.jsx)("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-[#f1c40f]/20 blur-[100px] rounded-full"}),(0,t.jsx)("div",{className:"absolute -bottom-24 -right-24 w-48 h-48 bg-[#f1c40f]/10 blur-[100px] rounded-full"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"w-20 h-20 mx-auto mb-6 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[#f1c40f] blur-2xl opacity-20 rounded-full animate-pulse"}),(0,t.jsx)("div",{className:"relative bg-midnight-slate border border-[#f1c40f]/30 rounded-2xl p-4 shadow-inner",children:(0,t.jsx)("svg",{className:"w-full h-full text-[#f1c40f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:"ios"===l?"Upgrade to Native Portal":"Activate Native Field Dispatch"}),(0,t.jsx)("p",{className:"text-gray-300 mb-8 leading-relaxed",children:"ios"===l?"Install the Texas Prestige Masonry app for 30-day persistence and faster field access.":"Unlock the full native experience with instant notifications and persistent sessions."}),"ios"===l?(0,t.jsxs)("div",{className:"space-y-6 text-left bg-black/20 rounded-2xl p-4 border border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-[#f1c40f] font-bold",children:"1"}),(0,t.jsxs)("p",{className:"text-sm text-gray-200",children:["Tap the ",(0,t.jsx)("span",{className:"text-[#f1c40f] font-bold",children:"Share"})," menu below."]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-[#f1c40f] font-bold",children:"2"}),(0,t.jsxs)("p",{className:"text-sm text-gray-200",children:["Scroll down and select ",(0,t.jsx)("span",{className:"text-[#f1c40f] font-bold",children:'"Add to Home Screen"'}),"."]})]}),(0,t.jsx)("div",{className:"flex justify-center pt-4",children:(0,t.jsx)("div",{className:"animate-bounce text-[#f1c40f]",children:(0,t.jsx)("svg",{className:"w-6 h-6 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})]}):(0,t.jsx)("button",{onClick:a,className:"w-full bg-[#f1c40f] hover:bg-[#e6b800] text-black font-black py-4 rounded-xl shadow-lg shadow-[#f1c40f]/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:"INSTALL NOW"}),(0,t.jsx)("button",{onClick:s,className:"mt-6 text-gray-400 text-sm font-medium hover:text-white transition-colors",children:"Maybe Later"})]})]})}):null}function l(){let[e,l]=(0,s.useState)(null),[r,n]=(0,s.useState)(!1),[o,i]=(0,s.useState)("other");(0,s.useEffect)(()=>{let e,t=window.navigator.userAgent,s=/iPad|iPhone|iPod/.test(t)&&!window.MSStream,a=/Android/.test(t);i(s?"ios":a?"android":"other"),"serviceWorker"in navigator&&(window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.onupdatefound=()=>{let t=e.installing;t&&(t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller&&t.postMessage({type:"SKIP_WAITING"})})}})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}));let r=()=>{let t=window.matchMedia("(display-mode: standalone)").matches,s="true"===localStorage.getItem("pwa-prompt-shown");t||s||(e=setTimeout(()=>{"true"!==localStorage.getItem("pwa-prompt-shown")&&n(!0)},3e3))},o=e=>{e.preventDefault(),l(e),r()};return s?r():window.addEventListener("beforeinstallprompt",o),()=>{e&&clearTimeout(e),window.removeEventListener("beforeinstallprompt",o)}},[]);let c=async()=>{if(!e)return;e.prompt();let{outcome:t}=await e.userChoice;"accepted"===t&&console.log("User accepted the PWA install"),l(null),n(!1),localStorage.setItem("pwa-prompt-shown","true")};return(0,t.jsx)(a,{show:r,onClose:()=>{n(!1),localStorage.setItem("pwa-prompt-shown","true")},onInstall:c,platform:o})}e.s(["PwaRegistry",()=>l],70558)}]);