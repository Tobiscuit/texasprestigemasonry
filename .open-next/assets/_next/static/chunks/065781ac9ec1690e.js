(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={callServer:function(){return n.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let n=e.r(32120),l=e.r(92245),i=e.r(35326)},8341,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={cancelIdleCallback:function(){return l},requestIdleCallback:function(){return n}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let n="u">typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},l="u">typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},79520,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return y},handleClientScriptLoad:function(){return f},initScriptLoader:function(){return p}};for(var a in r)Object.defineProperty(s,a,{enumerable:!0,get:r[a]});let n=e.r(63141),l=e.r(51836),i=e.r(43476),d=n._(e.r(74080)),o=l._(e.r(71645)),c=e.r(42732),u=e.r(22737),g=e.r(8341),h=new Map,x=new Set,m=e=>{let{src:t,id:s,onLoad:r=()=>{},onReady:a=null,dangerouslySetInnerHTML:n,children:l="",strategy:i="afterInteractive",onError:o,stylesheets:c}=e,g=s||t;if(g&&x.has(g))return;if(h.has(t)){x.add(g),h.get(t).then(r,o);return}let m=()=>{a&&a(),x.add(g)},f=document.createElement("script"),p=new Promise((e,t)=>{f.addEventListener("load",function(t){e(),r&&r.call(this,t),m()}),f.addEventListener("error",function(e){t(e)})}).catch(function(e){o&&o(e)});n?(f.innerHTML=n.__html||"",m()):l?(f.textContent="string"==typeof l?l:Array.isArray(l)?l.join(""):"",m()):t&&(f.src=t,h.set(t,p)),(0,u.setAttributesFromProps)(f,e),"worker"===i&&f.setAttribute("type","text/partytown"),f.setAttribute("data-nscript",i),c&&(e=>{if(d.default.preinit)return e.forEach(e=>{d.default.preinit(e,{as:"style"})});if("u">typeof window){let t=document.head;e.forEach(e=>{let s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=e,t.appendChild(s)})}})(c),document.body.appendChild(f)};function f(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,g.requestIdleCallback)(()=>m(e))}):m(e)}function p(e){e.forEach(f),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");x.add(t)})}function b(e){let{id:t,src:s="",onLoad:r=()=>{},onReady:a=null,strategy:n="afterInteractive",onError:l,stylesheets:u,...h}=e,{updateScripts:f,scripts:p,getIsSsr:b,appDir:y,nonce:v}=(0,o.useContext)(c.HeadManagerContext);v=h.nonce||v;let j=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||s;j.current||(a&&e&&x.has(e)&&a(),j.current=!0)},[a,t,s]);let w=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{if(!w.current){if("afterInteractive"===n)m(e);else"lazyOnload"===n&&("complete"===document.readyState?(0,g.requestIdleCallback)(()=>m(e)):window.addEventListener("load",()=>{(0,g.requestIdleCallback)(()=>m(e))}));w.current=!0}},[e,n]),("beforeInteractive"===n||"worker"===n)&&(f?(p[n]=(p[n]||[]).concat([{id:t,src:s,onLoad:r,onReady:a,onError:l,...h,nonce:v}]),f(p)):b&&b()?x.add(t||s):b&&!b()&&m({...e,nonce:v})),y){if(u&&u.forEach(e=>{d.default.preinit(e,{as:"style"})}),"beforeInteractive"===n)if(!s)return h.dangerouslySetInnerHTML&&(h.children=h.dangerouslySetInnerHTML.__html,delete h.dangerouslySetInnerHTML),(0,i.jsx)("script",{nonce:v,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...h,id:t}])})`}});else return d.default.preload(s,h.integrity?{as:"script",integrity:h.integrity,nonce:v,crossOrigin:h.crossOrigin}:{as:"script",nonce:v,crossOrigin:h.crossOrigin}),(0,i.jsx)("script",{nonce:v,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([s,{...h,id:t}])})`}});"afterInteractive"===n&&s&&d.default.preload(s,h.integrity?{as:"script",integrity:h.integrity,nonce:v,crossOrigin:h.crossOrigin}:{as:"script",nonce:v,crossOrigin:h.crossOrigin})}return null}Object.defineProperty(b,"__nextScript",{value:!0});let y=b;("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},3303,(e,t,s)=>{t.exports=e.r(79520)},89925,e=>{"use strict";var t=e.i(47167),s=e.i(43476),r=e.i(71645),a=e.i(3303),n=e.i(92989),l=e.i(95187);let i=(0,l.createServerReference)("60358492ef0e16abc4b671ed2893f129d75f3bc93b",l.callServer,void 0,l.findSourceMapURL,"createBooking");var d=e.i(48148);let o={guestName:"",guestEmail:"",guestPhone:"",guestAddress:"",guestPassword:"",issueDescription:"",urgency:"standard",scheduledTime:""};function c({formData:e,updateField:t,nextStep:r}){let a=(0,d.useTranslations)("booking"),n=e.guestName&&e.guestPhone&&e.guestEmail&&e.guestAddress;return(0,s.jsxs)("div",{className:"space-y-6 animate-fadeIn relative z-10",children:[(0,s.jsx)("h1",{className:"text-4xl font-black text-midnight-slate tracking-tight",children:a("contact_heading")}),(0,s.jsx)("p",{className:"text-gray-500",children:a("contact_desc")}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:a("full_name")}),(0,s.jsx)("input",{type:"text",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none",placeholder:"John Doe",value:e.guestName,onChange:e=>t("guestName",e.target.value)})]}),(0,s.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:a("phone_number")}),(0,s.jsx)("input",{type:"tel",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none",placeholder:"(555) 123-4567",value:e.guestPhone,onChange:e=>t("guestPhone",e.target.value)})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:a("email_address")}),(0,s.jsx)("input",{type:"email",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none",placeholder:"john@example.com",value:e.guestEmail,onChange:e=>t("guestEmail",e.target.value)})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:a("service_address")}),(0,s.jsx)("textarea",{className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none h-24 resize-none",placeholder:a("address_placeholder"),value:e.guestAddress,onChange:e=>t("guestAddress",e.target.value)})]}),(0,s.jsxs)("div",{className:"col-span-2 pt-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("input",{type:"checkbox",id:"createAccount",className:"w-5 h-5 text-burnished-gold rounded focus:ring-burnished-gold border-gray-300",checked:!!e.guestPassword,onChange:e=>t("guestPassword",e.target.checked?"temp123":"")}),(0,s.jsx)("label",{htmlFor:"createAccount",className:"font-bold text-midnight-slate cursor-pointer select-none",children:a("create_account")})]}),e.guestPassword&&(0,s.jsxs)("div",{className:"animate-fadeIn",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:a("create_password")}),(0,s.jsx)("input",{type:"password",className:"w-full bg-white border border-gray-300 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none",placeholder:a("password_placeholder"),value:"temp123"===e.guestPassword?"":e.guestPassword,onChange:e=>t("guestPassword",e.target.value)}),(0,s.jsx)("p",{className:"text-[10px] text-gray-400 mt-2",children:a("username_note")})]})]})]}),(0,s.jsx)("button",{onClick:r,disabled:!n,className:"w-full bg-midnight-slate text-white font-black py-5 rounded-xl text-lg disabled:opacity-50 hover:bg-midnight-slate transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:a("locate_tech")})]})}function u({formData:e,updateField:t,nextStep:r,prevStep:a}){let n=(0,d.useTranslations)("booking");return(0,s.jsxs)("div",{className:"space-y-6 animate-fadeIn relative z-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-black text-midnight-slate",children:n("issue_heading")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:n("issue_label")}),(0,s.jsx)("textarea",{className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-medium text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none h-32 resize-none",placeholder:n("issue_placeholder"),value:e.issueDescription,onChange:e=>t("issueDescription",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:n("urgency_label")}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>t("urgency","standard"),className:`p-4 rounded-xl border-2 text-left transition-all ${"standard"===e.urgency?"border-midnight-slate bg-white/5 ring-2 ring-midnight-slate":"border-gray-100 hover:border-gray-300"}`,children:[(0,s.jsx)("div",{className:"font-bold text-midnight-slate",children:n("standard")}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:n("standard_desc")})]}),(0,s.jsxs)("button",{onClick:()=>t("urgency","emergency"),className:`p-4 rounded-xl border-2 text-left transition-all ${"emergency"===e.urgency?"border-red-500 bg-red-50/50 ring-2 ring-red-500":"border-gray-100 hover:border-red-200"}`,children:[(0,s.jsxs)("div",{className:"font-bold text-red-600 flex items-center gap-2",children:[n("emergency"),(0,s.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,s.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:n("emergency_desc")})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:a,className:"w-1/3 text-gray-500 font-bold hover:text-midnight-slate",children:n("back")}),(0,s.jsx)("button",{onClick:r,disabled:!e.issueDescription,className:"w-2/3 bg-midnight-slate text-white font-bold py-4 rounded-xl disabled:opacity-50 hover:bg-midnight-slate transition-all",children:n("continue")})]})]})}function g({formData:e,updateField:t,nextStep:r,prevStep:a}){let n=(0,d.useTranslations)("booking");return(0,s.jsxs)("div",{className:"space-y-6 animate-fadeIn relative z-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-black text-midnight-slate",children:n("schedule_heading")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2",children:n("datetime_label")}),(0,s.jsx)("input",{type:"datetime-local",className:"w-full bg-gray-50 border border-gray-200 rounded-xl p-4 font-bold text-midnight-slate focus:ring-2 focus:ring-burnished-gold outline-none",value:e.scheduledTime,onChange:e=>t("scheduledTime",e.target.value)}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:n("sms_note")})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:a,className:"w-1/3 text-gray-500 font-bold hover:text-midnight-slate",children:n("back")}),(0,s.jsx)("button",{onClick:r,disabled:!e.scheduledTime,className:"w-2/3 bg-midnight-slate text-white font-bold py-4 rounded-xl disabled:opacity-50 hover:bg-midnight-slate transition-all",children:n("continue")})]})]})}function h({prevStep:e,handleSubmit:t,loading:r,error:a,isCardReady:n}){let l=(0,d.useTranslations)("booking");return(0,s.jsxs)("div",{className:"space-y-6 animate-fadeIn relative z-10",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"inline-block p-3 rounded-full bg-green-100 text-green-600 mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h1",{className:"text-3xl font-black text-midnight-slate mb-2",children:l("tech_available")}),(0,s.jsx)("p",{className:"text-gray-500",children:l("trip_fee")})]}),a&&(0,s.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl text-sm border border-red-100 font-medium",children:a}),(0,s.jsx)("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-200",children:(0,s.jsx)("div",{id:"card-container",className:"min-h-[100px]"})}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:e,disabled:r,className:"w-1/3 text-gray-500 font-bold hover:text-midnight-slate",children:l("back")}),(0,s.jsx)("button",{onClick:t,disabled:r||!n,className:"w-2/3 bg-burnished-gold text-midnight-slate font-black py-4 rounded-xl disabled:opacity-50 hover:bg-yellow-400 shadow-lg hover:shadow-xl transition-all flex justify-center items-center gap-2",children:r?(0,s.jsx)(s.Fragment,{children:l("processing")}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l("authorize")]})})]}),(0,s.jsx)("p",{className:"text-center text-[10px] text-gray-400 mt-4",children:l("secure_note")})]})}function x(){(0,n.useRouter)();let e=(0,d.useTranslations)("booking"),{step:l,formData:x,updateField:m,nextStep:f,prevStep:p}=function(){let[e,t]=(0,r.useState)(0),[s,a]=(0,r.useState)(o),[n,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!n){let e=sessionStorage.getItem("aiDiagnosis");if(e)try{let s=JSON.parse(e);s.fromDiagnosis&&(a(e=>({...e,issueDescription:s.issueDescription||"",urgency:s.urgency||"standard"})),t(1),sessionStorage.removeItem("aiDiagnosis"))}catch(e){console.error("Failed to parse aiDiagnosis from sessionStorage",e)}l(!0)}},[n]),{step:e,formData:s,updateField:(e,t)=>{a(s=>({...s,[e]:t}))},nextStep:()=>t(e=>Math.min(e+1,3)),prevStep:()=>t(e=>Math.max(e-1,0)),setStep:t}}(),[b,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(""),w=t.default.env.NEXT_PUBLIC_SQUARE_APP_ID||"sandbox-sq0idb-YOUR_APP_ID_HERE",N=t.default.env.NEXT_PUBLIC_SQUARE_LOCATION_ID||"YOUR_LOCATION_ID_HERE",_=w.startsWith("sandbox")?"https://sandbox.web.squarecdn.com/v1/square.js":"https://web.squarecdn.com/v1/square.js",{card:k,setSdkLoaded:S,error:C,tokenizeCard:I}=function(e,t,s,a="#card-container"){let[n,l]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)("");(0,r.useEffect)(()=>{let r;async function d(){if(window.Square&&!n)try{let e=await window.Square.payments(t,s);r=await e.card(),await r.attach(a),l(r)}catch(e){console.error("Square Init Error:",e),c("Failed to load payment form. Please refresh.")}}return e&&i&&d(),()=>{}},[e,i,t,s,a,n]);let u=async()=>{if(!n)throw Error("Payment form not initialized");let e=await n.tokenize();if("OK"!==e.status)throw Error(`Payment Failed: ${e.errors[0].message}`);return e.token};return{card:n,sdkLoaded:i,setSdkLoaded:d,error:o,tokenizeCard:u}}(3===l,w,N),P=async()=>{y(!0),j("");try{let e=await I(),t=new FormData;t.append("guestName",x.guestName),t.append("guestEmail",x.guestEmail),t.append("guestPhone",x.guestPhone),t.append("guestAddress",x.guestAddress),x.guestPassword&&t.append("guestPassword",x.guestPassword),t.append("issueDescription",x.issueDescription),t.append("urgency",x.urgency),t.append("scheduledTime",x.scheduledTime),t.append("sourceId",e);let s=await i(null,t);if(s?.error)throw Error(s.error)}catch(e){console.error(e),j(e.message||"Booking failed."),y(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-sandstone pt-24 pb-12 px-4 font-work-sans",children:[(0,s.jsx)(a.default,{src:_,onLoad:()=>S(!0)}),(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:[(0,s.jsx)("span",{className:l>=0?"text-midnight-slate":"",children:e("step_contact")}),(0,s.jsx)("span",{className:l>=1?"text-midnight-slate":"",children:e("step_issue")}),(0,s.jsx)("span",{className:l>=2?"text-midnight-slate":"",children:e("step_time")}),(0,s.jsx)("span",{className:l>=3?"text-midnight-slate":"",children:e("step_secure")})]}),(0,s.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-burnished-gold transition-all duration-500 ease-in-out",style:{width:`${(l+1)*25}%`}})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 relative p-8 md:p-12",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-5 pointer-events-none",children:(0,s.jsx)("svg",{width:"120",height:"120",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"})})}),0===l&&(0,s.jsx)(c,{formData:x,updateField:m,nextStep:f}),1===l&&(0,s.jsx)(u,{formData:x,updateField:m,nextStep:f,prevStep:p}),2===l&&(0,s.jsx)(g,{formData:x,updateField:m,nextStep:f,prevStep:p}),3===l&&(0,s.jsx)(h,{prevStep:p,handleSubmit:P,loading:b,error:v||C,isCardReady:!!k})]})]})]})}e.s(["default",()=>x,"dynamic",0,"force-dynamic"],89925)}]);